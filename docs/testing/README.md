# Emdash æµ‹è¯•æ–‡æ¡£ä¸­å¿ƒ

> **æœ€åæ›´æ–°**: 2025-11-08
> **æ–‡æ¡£ç‰ˆæœ¬**: 2.0

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | æè¿° | é€‚ç”¨äººå‘˜ | é“¾æ¥ |
|------|------|----------|------|
| **æµ‹è¯•è¿›åº¦è·Ÿè¸ª** | ğŸ“Š å®æ—¶è¿›åº¦ã€é‡Œç¨‹ç¢‘ã€ç»Ÿè®¡æ•°æ® | æ‰€æœ‰äºº | [PROGRESS.md](./PROGRESS.md) â­ |
| **å•å…ƒæµ‹è¯•è¦†ç›–æ–‡æ¡£** | è¯¦ç»†çš„å•å…ƒæµ‹è¯•è®¾è®¡ã€ä¼˜å…ˆçº§ã€Mockç­–ç•¥ | æ‰€æœ‰å¼€å‘è€… | [UNIT_TEST_COVERAGE.md](../UNIT_TEST_COVERAGE.md) |
| **CIæµ‹è¯•è¦†ç›–æ–‡æ¡£** | CI/CDæµæ°´çº¿é…ç½®ã€è·¨å¹³å°æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ– | DevOpsã€Tech Lead | [CI_TEST_COVERAGE.md](../CI_TEST_COVERAGE.md) |

### é˜¶æ®µè®¡åˆ’æ–‡æ¡£ ğŸ†•

| é˜¶æ®µ | æ–‡æ¡£ | çŠ¶æ€ | æ—¶é—´çº¿ | é“¾æ¥ |
|------|------|------|--------|------|
| **P0+P1** | æ ¸å¿ƒæ¨¡å—ä¸æœåŠ¡å±‚ | âœ… å®Œæˆ | Nov 7-8 | [PROGRESS.md](./PROGRESS.md) |
| **P2** | IPC å±‚ä¸å‰©ä½™æœåŠ¡ | ğŸ“‹ è®¡åˆ’ä¸­ | Nov 11-22 | [P2_PLAN.md](./P2_PLAN.md) ğŸ†• / [å¿«é€Ÿå¼€å§‹](./P2_QUICK_START.md) âš¡ |
| **P3** | æ¸²æŸ“è¿›ç¨‹ Hooks ä¸ç»„ä»¶ | ğŸ”œ å³å°†å¼€å§‹ | Nov 25 - Dec 6 | å¾…åˆ›å»º |

### æŠ€æœ¯æŒ‡å— ğŸ†•

| æŒ‡å— | æè¿° | é€‚ç”¨åœºæ™¯ | é“¾æ¥ |
|------|------|----------|------|
| **IPC æµ‹è¯•æŒ‡å—** | Electron IPC æµ‹è¯•å®Œæ•´æ•™ç¨‹ | P2 é˜¶æ®µå¼€å‘ | [IPC_TESTING_GUIDE.md](./IPC_TESTING_GUIDE.md) ğŸ†• |
| Mock ç­–ç•¥æŒ‡å— | Mock æ¨¡å¼ä¸æœ€ä½³å®è·µ | æ‰€æœ‰æµ‹è¯• | å¾…åˆ›å»º |
| å¼‚æ­¥æµ‹è¯•æŒ‡å— | å¤„ç†å¼‚æ­¥ã€æµã€äº‹ä»¶ | å¤æ‚å¼‚æ­¥åœºæ™¯ | å¾…åˆ›å»º |

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### æˆ‘æ˜¯æ–°åŠ å…¥çš„å¼€å‘è€…

1. **äº†è§£ç°çŠ¶**: é˜…è¯» [PROGRESS.md](./PROGRESS.md) - æŸ¥çœ‹å½“å‰è¿›åº¦å’Œå·²å®Œæˆæ¨¡å—
2. **è®¤é¢†ä»»åŠ¡**: æŸ¥çœ‹ [P2_PLAN.md](./P2_PLAN.md) æ‰¾åˆ°å¾…å¼€å§‹çš„æ¨¡å—
3. **å­¦ä¹  IPC æµ‹è¯•**: é˜…è¯» [IPC_TESTING_GUIDE.md](./IPC_TESTING_GUIDE.md)
4. **å¼€å§‹ç¼–å†™**: ä½¿ç”¨ IPC Mock å·¥å…·å¼€å§‹æµ‹è¯•

### æˆ‘è¦å†™ IPC æµ‹è¯• (P2 é˜¶æ®µ) ğŸ†•

```bash
# 1. æŸ¥çœ‹ P2 è®¡åˆ’
open docs/testing/P2_PLAN.md

# 2. é˜…è¯» IPC æµ‹è¯•æŒ‡å—
open docs/testing/IPC_TESTING_GUIDE.md

# 3. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
mkdir -p src/test/main/ipc
touch src/test/main/ipc/agentIpc.test.ts

# 4. ä½¿ç”¨ IPC Mock å·¥å…·
# å‚è€ƒ src/test/utils/ipcMock.ts

# 5. è¿è¡Œæµ‹è¯•
npm test

# 6. ç±»å‹æ£€æŸ¥
npm run type-check
```

### æˆ‘è¦å†™æœåŠ¡å±‚æµ‹è¯• (å·²å®Œæˆç¤ºä¾‹)

```bash
# 1. æŸ¥çœ‹ç°æœ‰æµ‹è¯•ä½œä¸ºå‚è€ƒ
open src/test/main/AgentService.test.ts
open src/test/main/CodexService.test.ts

# 2. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
mkdir -p src/test/main
touch src/test/main/MyService.test.ts

# 3. è¿è¡Œæµ‹è¯•
npm test

# 4. æŸ¥çœ‹è¦†ç›–ç‡
npm run test:coverage
```

### æˆ‘è¦é…ç½®CI

1. **é˜…è¯»CIæ–‡æ¡£**: [CI_TEST_COVERAGE.md](../CI_TEST_COVERAGE.md)
2. **æŒ‰å‘¨å®æ–½**:
   - ç¬¬1å‘¨: ç¬¬8.1èŠ‚ - åŸºç¡€æµ‹è¯•é›†æˆ
   - ç¬¬2å‘¨: ç¬¬8.2èŠ‚ - æµ‹è¯•é—¨ç¦
   - ç¬¬3å‘¨: ç¬¬8.3èŠ‚ - ä¼˜åŒ–å’Œç›‘æ§

### æˆ‘è¦æŸ¥çœ‹è¿›åº¦

æ‰“å¼€ [TEST_TRACKING.md](../TEST_TRACKING.md)ï¼ŒæŸ¥çœ‹ï¼š
- ç¬¬2èŠ‚: æµ‹è¯•è¦†ç›–ç‡çœ‹æ¿ (å¯è§†åŒ–è¿›åº¦)
- ç¬¬3èŠ‚: æ¨¡å—æµ‹è¯•çŠ¶æ€ (è¯¦ç»†ä»»åŠ¡åˆ—è¡¨)
- ç¬¬4èŠ‚: æµ‹è¯•å®æ–½è¿›åº¦ (æŒ‰å‘¨è®¡åˆ’)

---

## ğŸ“Š å½“å‰çŠ¶æ€æ¦‚è§ˆ

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  æ•´ä½“æµ‹è¯•è¦†ç›–ç‡:  ~15% / ç›®æ ‡ 70%
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ ¸å¿ƒæ¨¡å— (P0):     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 5/5  (100%) âœ… å…¨éƒ¨å®Œæˆï¼
é‡è¦æœåŠ¡ (P1):     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 3/7  (43%)
IPCå±‚ (P2):        â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1/12 (8%)
Hooks (P3):        â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1/15 (7%)

CIé›†æˆ:            âŒ æœªé…ç½®
æµ‹è¯•é—¨ç¦:          âŒ æœªå¯ç”¨
æ–‡æ¡£å®Œæ•´æ€§:        âœ… 100%
```

**ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘**: 2025-11-14 (CIæµ‹è¯•é›†æˆ)

---

## ğŸš€ å…³é”®é‡Œç¨‹ç¢‘

| æ—¥æœŸ | é‡Œç¨‹ç¢‘ | çŠ¶æ€ |
|------|--------|------|
| 2025-11-07 | âœ… æµ‹è¯•æ–‡æ¡£å®Œæˆ | **å®Œæˆ** |
| 2025-11-08 | âœ… P0æ¨¡å—æµ‹è¯•å®Œæˆ (5/5) | **è¶…é¢å®Œæˆ** ğŸ‰ |
| 2025-11-14 | ğŸ¯ CIæµ‹è¯•é›†æˆ | **å¾…å¼€å§‹** |
| 2025-11-21 | ğŸ¯ P1æ¨¡å—æµ‹è¯•å®Œæˆ (LinearService, JiraService, ConnectionsService, RepositoryManager) | è¿›è¡Œä¸­ (3/7 å®Œæˆ) |
| 2025-11-28 | ğŸ¯ P2 IPCå±‚æµ‹è¯• | å¾…å¼€å§‹ |
| 2025-12-05 | ğŸ¯ 50%è¦†ç›–ç‡è¾¾æˆ | å¾…å¼€å§‹ |
| 2025-12-19 | ğŸ¯ 70%è¦†ç›–ç‡è¾¾æˆ | å¾…å¼€å§‹ |

---

## ğŸ” æŒ‰è§’è‰²æŸ¥æ‰¾

### å¼€å‘è€… (Developer)

**æˆ‘è¦å†™æµ‹è¯•**:
- â†’ [UNIT_TEST_COVERAGE.md ç¬¬7èŠ‚: æµ‹è¯•ç¼–å†™æŒ‡å—](../UNIT_TEST_COVERAGE.md#7-æµ‹è¯•ç¼–å†™æŒ‡å—)
- â†’ [UNIT_TEST_COVERAGE.md ç¬¬8èŠ‚: Mockç­–ç•¥](../UNIT_TEST_COVERAGE.md#8-mockç­–ç•¥)

**æˆ‘è¦æŸ¥çœ‹æˆ‘è´Ÿè´£çš„æ¨¡å—**:
- â†’ [TEST_TRACKING.md ç¬¬3èŠ‚: æ¨¡å—æµ‹è¯•çŠ¶æ€](../TEST_TRACKING.md#3-æ¨¡å—æµ‹è¯•çŠ¶æ€)

**æˆ‘è¦æäº¤PR**:
- â†’ [TEST_TRACKING.md ç¬¬6.2èŠ‚: è´¨é‡é—¨ç¦](../TEST_TRACKING.md#62-è´¨é‡é—¨ç¦)

### Tech Lead

**åˆ¶å®šæµ‹è¯•ç­–ç•¥**:
- â†’ [UNIT_TEST_COVERAGE.md ç¬¬6èŠ‚: æµ‹è¯•ä¼˜å…ˆçº§çŸ©é˜µ](../UNIT_TEST_COVERAGE.md#6-æµ‹è¯•ä¼˜å…ˆçº§çŸ©é˜µ)
- â†’ [TEST_TRACKING.md ç¬¬5èŠ‚: å·²çŸ¥é—®é¢˜å’Œé£é™©](../TEST_TRACKING.md#5-å·²çŸ¥é—®é¢˜å’Œé£é™©)

**åˆ†é…ä»»åŠ¡**:
- â†’ [TEST_TRACKING.md ç¬¬8èŠ‚: è´£ä»»åˆ†é…çŸ©é˜µ (RACI)](../TEST_TRACKING.md#8-è´£ä»»åˆ†é…çŸ©é˜µ-raci)

**è¿½è¸ªè¿›åº¦**:
- â†’ [TEST_TRACKING.md ç¬¬6èŠ‚: æµ‹è¯•è´¨é‡æŒ‡æ ‡](../TEST_TRACKING.md#6-æµ‹è¯•è´¨é‡æŒ‡æ ‡)

### DevOps

**é…ç½®CI**:
- â†’ [CI_TEST_COVERAGE.md ç¬¬3èŠ‚: CIæµ‹è¯•æ”¹è¿›æ–¹æ¡ˆ](../CI_TEST_COVERAGE.md#3-ciæµ‹è¯•æ”¹è¿›æ–¹æ¡ˆ)
- â†’ [CI_TEST_COVERAGE.md ç¬¬8èŠ‚: å®æ–½è®¡åˆ’](../CI_TEST_COVERAGE.md#8-å®æ–½è®¡åˆ’)

**ä¼˜åŒ–æ€§èƒ½**:
- â†’ [CI_TEST_COVERAGE.md ç¬¬6èŠ‚: æ€§èƒ½å’Œç¼“å­˜ä¼˜åŒ–](../CI_TEST_COVERAGE.md#6-æ€§èƒ½å’Œç¼“å­˜ä¼˜åŒ–)

**å¤„ç†å¤±è´¥**:
- â†’ [CI_TEST_COVERAGE.md ç¬¬7èŠ‚: å¤±è´¥å¤„ç†å’Œé€šçŸ¥](../CI_TEST_COVERAGE.md#7-å¤±è´¥å¤„ç†å’Œé€šçŸ¥)

### QA

**åˆ¶å®šæµ‹è¯•è®¡åˆ’**:
- â†’ [UNIT_TEST_COVERAGE.md å…¨æ–‡](../UNIT_TEST_COVERAGE.md)

**Reviewæµ‹è¯•è´¨é‡**:
- â†’ [TEST_TRACKING.md é™„å½•B: æµ‹è¯•Reviewæ¸…å•](../TEST_TRACKING.md#b-æµ‹è¯•reviewæ¸…å•)

---

## ğŸ“– æŒ‰ä»»åŠ¡æŸ¥æ‰¾

### ä»»åŠ¡: ä¿®å¤Linté”™è¯¯

**ç›®æ ‡**: å¯ç”¨CIä¸­çš„lintæ£€æŸ¥

**æ­¥éª¤**:
1. è¿è¡Œ `npm run lint`
2. ä¿®å¤æ‰€æœ‰é”™è¯¯
3. æäº¤PR
4. å‚è€ƒ: [CI_TEST_COVERAGE.md ç¬¬8.1èŠ‚](../CI_TEST_COVERAGE.md#81-ç¬¬1å‘¨åŸºç¡€æµ‹è¯•é›†æˆ)

### ä»»åŠ¡: ç¼–å†™CodexServiceæµ‹è¯•

**ç›®æ ‡**: å®ç°CodexServiceçš„å®Œæ•´æµ‹è¯•è¦†ç›–

**æ­¥éª¤**:
1. é˜…è¯»: [UNIT_TEST_COVERAGE.md ç¬¬3.1èŠ‚](../UNIT_TEST_COVERAGE.md#31-codexservice-p0---æœ€é«˜ä¼˜å…ˆçº§)
2. åˆ›å»ºæ–‡ä»¶: `src/test/main/CodexService.test.ts`
3. å®ç°200+æµ‹è¯•ç”¨ä¾‹
4. è¾¾åˆ°90%+è¦†ç›–ç‡
5. æäº¤PR

**é¢„è®¡æ—¶é—´**: 4-5å¤©

### ä»»åŠ¡: é…ç½®test.yml workflow

**ç›®æ ‡**: åˆ›å»ºç»Ÿä¸€çš„æµ‹è¯•æµæ°´çº¿

**æ­¥éª¤**:
1. é˜…è¯»: [CI_TEST_COVERAGE.md ç¬¬3.1èŠ‚](../CI_TEST_COVERAGE.md#31-æ–°å¢-testyml-æ ¸å¿ƒæµ‹è¯•æµæ°´çº¿)
2. åˆ›å»ºæ–‡ä»¶: `.github/workflows/test.yml`
3. æœ¬åœ°éªŒè¯: `act -j test`
4. æäº¤PR

**é¢„è®¡æ—¶é—´**: 2å°æ—¶

### ä»»åŠ¡: æ›´æ–°READMEæ·»åŠ æµ‹è¯•badge

**ç›®æ ‡**: åœ¨READMEä¸­å±•ç¤ºæµ‹è¯•çŠ¶æ€

**æ­¥éª¤**:
```markdown
# åœ¨README.mdé¡¶éƒ¨æ·»åŠ 
[![Tests](https://github.com/generalaction/emdash/workflows/Test/badge.svg)](https://github.com/generalaction/emdash/actions)
[![Coverage](https://codecov.io/gh/generalaction/emdash/branch/main/graph/badge.svg)](https://codecov.io/gh/generalaction/emdash)
```

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Ÿ

```bash
npx vitest run CodexService.test.ts
```

### Q: å¦‚ä½•åªè¿è¡ŒæŸä¸€ä¸ªdescribeå—ï¼Ÿ

```typescript
describe.only('CodexService', () => {
  // åªè¿è¡Œè¿™ä¸ªå—
});
```

### Q: æµ‹è¯•å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ

1. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
2. æœ¬åœ°å¤ç°: `npm test`
3. æ£€æŸ¥æ˜¯å¦æ˜¯flaky test (é‡æ–°è¿è¡Œ)
4. æŸ¥çœ‹CIæ—¥å¿—
5. å‚è€ƒ: [CI_TEST_COVERAGE.md é™„å½•C: CIæ•…éšœæ’æŸ¥æ¸…å•](../CI_TEST_COVERAGE.md#c-ciæ•…éšœæ’æŸ¥æ¸…å•)

### Q: å¦‚ä½•æé«˜æµ‹è¯•è¦†ç›–ç‡ï¼Ÿ

1. è¿è¡Œ: `npm run test:coverage`
2. æ‰“å¼€: `coverage/index.html` æŸ¥çœ‹æœªè¦†ç›–çš„è¡Œ
3. ä¸ºæœªè¦†ç›–çš„ä»£ç è¡¥å……æµ‹è¯•
4. å‚è€ƒ: [UNIT_TEST_COVERAGE.md ç¬¬3èŠ‚](../UNIT_TEST_COVERAGE.md#3-ä¸»è¿›ç¨‹-main-process-æµ‹è¯•è®¡åˆ’)

### Q: æµ‹è¯•å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ

1. ä½¿ç”¨å¹¶è¡ŒåŒ–: `vitest run --threads --maxThreads=4`
2. ä½¿ç”¨watchæ¨¡å¼: `vitest watch` (åªè¿è¡Œç›¸å…³æµ‹è¯•)
3. å‚è€ƒ: [CI_TEST_COVERAGE.md ç¬¬6èŠ‚: æ€§èƒ½ä¼˜åŒ–](../CI_TEST_COVERAGE.md#6-æ€§èƒ½å’Œç¼“å­˜ä¼˜åŒ–)

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [Vitestå®˜æ–¹æ–‡æ¡£](https://vitest.dev/)
- [GitHub Actionsæ–‡æ¡£](https://docs.github.com/en/actions)
- [Testing Best Practices](https://kentcdodds.com/blog/common-mistakes-with-react-testing-library)
- [Test Pyramid](https://martinfowler.com/articles/practical-test-pyramid.html)

---

## ğŸ“ è”ç³»å’Œåé¦ˆ

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/generalaction/emdash/issues)
- **æ–‡æ¡£æ›´æ–°**: æäº¤PRåˆ° `docs/` ç›®å½•
- **æŠ€æœ¯è®¨è®º**: [Discord](https://discord.gg/UmTn6Nb7)

---

## ğŸ“ å˜æ›´æ—¥å¿—

| æ—¥æœŸ | å˜æ›´ | ä½œè€… |
|------|------|------|
| 2025-11-07 | åˆå§‹ç‰ˆæœ¬ï¼Œ3ä»½æ ¸å¿ƒæ–‡æ¡£å®Œæˆ | Claude |

---

**ä¸‹æ¬¡æ›´æ–°**: 2025-11-14 (ç¬¬1å‘¨ç»“æŸå)
